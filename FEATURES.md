# EmailHub - 功能特性详解

## 核心功能

### 1. 多邮箱管理

#### 支持的邮箱类型
- **Gmail** - Google 邮箱服务
- **Outlook** - Microsoft 邮箱服务
- **QQ Mail** - 腾讯 QQ 邮箱
- **163 Mail** - 网易 163 邮箱
- **126 Mail** - 网易 126 邮箱
- **iCloud** - Apple iCloud 邮箱
- **Yahoo** - 雅虎邮箱
- **自定义** - 支持任何 IMAP/SMTP 服务器

#### 功能特点
- ✅ 统一管理多个邮箱账户
- ✅ 实时监听新邮件（IMAP IDLE）
- ✅ 自动同步邮件内容
- ✅ 支持附件下载
- ✅ 邮箱连接状态监控
- ✅ 密码加密存储（AES-256）

### 2. 智能过滤规则

#### 过滤条件
- **发件人过滤** - 按邮件地址或域名过滤
- **主题过滤** - 按主题关键词匹配
- **正文过滤** - 按邮件内容关键词匹配
- **组合条件** - 支持多条件组合（AND 逻辑）

#### 执行动作
- **推送通知** - 推送到指定渠道
- **标记已读** - 自动标记为已读
- **删除邮件** - 自动删除匹配的邮件
- **优先级** - 支持规则优先级排序

#### 使用场景
```
场景 1: 重要客户邮件
条件: 发件人包含 @important-client.com
动作: 推送到企业微信 + 飞书

场景 2: GitHub 通知
条件: 发件人 = notifications@github.com
动作: 推送到 Telegram + 标记已读

场景 3: 营销邮件过滤
条件: 主题包含 "促销"、"优惠"
动作: 标记已读（不推送）
```

### 3. 多平台推送

#### 支持的推送平台

**企业微信**
- 通过 Webhook 机器人推送
- 支持 Markdown 格式
- 支持自定义卡片模板
- 适合团队协作场景

**飞书**
- 通过 Webhook 机器人推送
- 支持富文本卡片
- 支持交互式按钮
- 适合企业办公场景

**Telegram**
- 通过 Bot API 推送
- 支持 HTML 格式
- 支持内联按钮
- 适合个人使用场景

#### 推送特性
- ✅ 自定义消息模板
- ✅ 支持变量替换（发件人、主题、时间等）
- ✅ 推送成功率统计
- ✅ 失败重试机制
- ✅ 推送日志记录

### 4. 防骚扰策略

#### 频率限制
- **每分钟限制** - 防止短时间内大量推送
- **每小时限制** - 控制总推送量
- **智能限流** - 超过限制时自动暂停推送

#### 静默时段
- **自定义时间段** - 设置免打扰时间
- **默认配置** - 22:00 - 08:00 静默
- **紧急邮件** - 可设置例外规则

#### 去重机制
- **消息 ID 去重** - 避免重复推送同一邮件
- **时间窗口去重** - 1 分钟内相同内容只推送一次

### 5. 安全加密

#### 密码加密
- **AES-256 加密** - 邮箱密码加密存储
- **密钥管理** - 环境变量存储加密密钥
- **安全传输** - HTTPS/TLS 加密通信

#### 认证机制
- **用户认证** - 邮箱 + 密码登录
- **会话管理** - JWT Token 认证
- **OAuth2 支持** - 计划支持第三方登录

### 6. 监控告警

#### 系统监控
- **邮箱连接监控** - 实时检测连接状态
- **推送失败告警** - 推送失败时发送告警
- **频率限制告警** - 触发限流时通知
- **错误日志记录** - 详细的错误日志

#### 告警类型
- `email_disconnect` - 邮箱连接断开
- `push_failed` - 推送失败
- `rate_limit` - 触发频率限制
- `auth_error` - 认证错误

### 7. 邮件操作

#### 支持的操作
- **标记已读** - 将邮件标记为已读状态
- **删除邮件** - 从服务器删除邮件
- **回复邮件** - 快速回复邮件（计划中）
- **转发邮件** - 转发到其他邮箱（计划中）

#### 操作方式
- **手动操作** - 在界面上点击操作
- **自动操作** - 通过过滤规则自动执行
- **批量操作** - 批量处理多封邮件（计划中）

### 8. 统计分析

#### 数据统计
- **邮件趋势** - 7 天邮件接收趋势图
- **发件人排行** - 邮件数量最多的发件人
- **推送统计** - 各渠道推送成功率
- **实时数据** - 总邮件数、未读数、今日接收

#### 可视化图表
- **柱状图** - 邮件接收趋势
- **进度条** - 发件人占比
- **百分比** - 推送成功率

## 技术亮点

### 1. 实时邮件监听
使用 IMAP IDLE 协议实现实时推送，无需轮询，降低服务器负载。

### 2. 高性能架构
- **Redis 缓存** - 缓存热点数据
- **消息队列** - Bull + Redis 异步处理
- **数据库索引** - 优化查询性能

### 3. 优雅的 UI 设计
- **Framer Motion** - 流畅的动画效果
- **响应式设计** - 适配各种屏幕尺寸
- **深色模式** - 支持明暗主题切换
- **现代配色** - 蓝绿色系简约风格

### 4. 可扩展性
- **模块化设计** - 易于添加新功能
- **插件化架构** - 支持自定义推送渠道
- **API 接口** - 完整的 RESTful API

## 使用场景

### 场景 1: 个人邮件管理
- 绑定多个个人邮箱（Gmail、QQ、163）
- 重要邮件推送到 Telegram
- 营销邮件自动过滤

### 场景 2: 团队协作
- 绑定团队邮箱
- 客户邮件推送到企业微信群
- 工单邮件推送到飞书群

### 场景 3: 开发者工具
- 监听 GitHub 通知
- CI/CD 构建结果推送
- 服务器告警邮件推送

### 场景 4: 客服系统
- 监听客服邮箱
- 新工单实时推送
- 按客户优先级分类推送

## 性能指标

- **邮件接收延迟** - < 5 秒（IMAP IDLE）
- **推送延迟** - < 2 秒
- **消息送达率** - 99.9%
- **系统可用性** - 99.5%
- **并发处理** - 支持 100+ 邮箱账户

## 未来规划

### 短期计划（1-3 个月）
- [ ] OAuth2 登录支持（Google、GitHub）
- [ ] 邮件回复功能
- [ ] 自定义卡片模板编辑器
- [ ] 邮件搜索功能
- [ ] 邮件归档功能

### 中期计划（3-6 个月）
- [ ] 移动端 App（React Native）
- [ ] 邮件分类标签
- [ ] 智能邮件分类（AI）
- [ ] 邮件定时发送
- [ ] 邮件模板管理

### 长期计划（6-12 个月）
- [ ] 多语言支持（英文、日文）
- [ ] 团队协作功能
- [ ] 邮件加密（PGP）
- [ ] 邮件签名管理
- [ ] 数据导出功能

## 技术支持

如有问题或建议，欢迎通过以下方式联系：

- **GitHub Issues**: [提交问题](https://github.com/your-username/email-manager/issues)
- **邮件**: support@emailhub.com
- **文档**: [在线文档](https://docs.emailhub.com)
