# EmailHub - 快速开始指南

欢迎使用 EmailHub！这是一个现代化的多邮件管理平台。

## 🚀 5 分钟快速开始

### 方法 1: 使用启动脚本（推荐）

**Windows 用户:**
```bash
start.bat
```

**Linux/Mac 用户:**
```bash
chmod +x start.sh
./start.sh
```

脚本会自动检查环境并启动开发服务器。

### 方法 2: 手动启动

1. **安装依赖**
```bash
npm install
```

2. **配置环境变量**
```bash
cp .env.example .env
```

编辑 `.env` 文件，填写必要的配置。

3. **启动开发服务器**
```bash
npm run dev
```

访问 http://localhost:3000

## 📖 主要功能

### 1. 添加邮箱账户

1. 访问 **邮箱管理** 页面
2. 点击 **添加邮箱** 按钮
3. 选择邮箱提供商（Gmail、Outlook、QQ 等）
4. 填写邮箱地址和密码（建议使用应用专用密码）
5. 点击 **测试并添加**

**重要提示:**
- Gmail: 需要生成应用专用密码
- QQ/163: 需要开启 IMAP 服务并生成授权码
- Outlook: 直接使用账户密码

### 2. 配置推送渠道

1. 访问 **推送渠道** 页面
2. 点击 **添加渠道** 按钮
3. 选择平台（企业微信、飞书、Telegram）
4. 填写配置信息：
   - **企业微信**: Webhook URL
   - **飞书**: Webhook URL
   - **Telegram**: Bot Token + Chat ID
5. 点击 **测试并添加**

### 3. 创建过滤规则

1. 访问 **过滤规则** 页面
2. 点击 **创建规则** 按钮
3. 设置规则名称和优先级
4. 配置匹配条件：
   - 发件人（支持多个，逗号分隔）
   - 主题关键词
   - 正文关键词
5. 选择执行动作：
   - 推送到哪些渠道
   - 是否标记已读
   - 是否删除邮件
6. 点击 **创建规则**

### 4. 查看邮件和统计

- **邮件列表**: 查看所有接收的邮件
- **统计分析**: 查看邮件趋势、发件人排行、推送统计
- **系统设置**: 配置通知、频率限制、语言等

## 🔧 常见问题

### Q1: Gmail 连接失败？

**解决方案:**
1. 启用 IMAP：Gmail 设置 → 转发和 POP/IMAP → 启用 IMAP
2. 生成应用专用密码：
   - 访问 https://myaccount.google.com/security
   - 两步验证 → 应用专用密码
   - 选择"邮件"和设备，生成密码
3. 使用生成的 16 位密码（不是账户密码）

### Q2: QQ 邮箱授权码在哪里？

**解决方案:**
1. 登录 QQ 邮箱网页版
2. 设置 → 账户 → POP3/IMAP/SMTP/Exchange/CardDAV/CalDAV服务
3. 开启 IMAP/SMTP 服务
4. 生成授权码（16 位字符）
5. 使用授权码作为密码

### Q3: 企业微信机器人如何创建？

**解决方案:**
1. 在企业微信群聊中，点击右上角 "..."
2. 选择 "群机器人" → "添加机器人"
3. 设置机器人名称和头像
4. 复制 Webhook 地址
5. 在 EmailHub 中添加推送渠道，粘贴 Webhook URL

### Q4: Telegram Bot 如何创建？

**解决方案:**
1. 在 Telegram 中搜索 @BotFather
2. 发送 `/newbot` 命令
3. 按提示设置机器人名称
4. 获取 Bot Token（格式：123456:ABC-DEF...）
5. 获取 Chat ID：
   - 搜索 @userinfobot
   - 发送任意消息，获取你的 Chat ID
6. 在 EmailHub 中填写 Bot Token 和 Chat ID

### Q5: 推送失败怎么办？

**检查清单:**
- ✅ Webhook URL 是否正确
- ✅ 网络是否可以访问目标服务器
- ✅ Bot Token 和 Chat ID 是否正确
- ✅ 是否触发了频率限制
- ✅ 查看系统告警页面的错误信息

### Q6: 如何设置静默时段？

**解决方案:**
1. 访问 **系统设置** 页面
2. 在 **通知设置** 区域
3. 设置 **静默时段** 的开始和结束时间
4. 例如：22:00 - 08:00
5. 点击 **保存设置**

## 💡 使用技巧

### 技巧 1: 优先级设置

规则优先级数字越大，优先级越高。建议：
- 重要客户邮件：优先级 10
- 工作邮件：优先级 5
- 营销邮件：优先级 1

### 技巧 2: 关键词匹配

支持多个关键词，用逗号分隔：
```
urgent, 紧急, ASAP, 重要
```

### 技巧 3: 发件人过滤

可以使用域名匹配：
```
@important-client.com, @vip-customer.com
```

### 技巧 4: 自定义消息模板

在推送渠道配置中，可以自定义消息模板：

**可用变量:**
- `{from}` - 发件人
- `{subject}` - 邮件主题
- `{time}` - 接收时间
- `{preview}` - 邮件预览

**示例模板:**
```
🔔 新邮件提醒

发件人: {from}
主题: {subject}
时间: {time}

{preview}
```

### 技巧 5: 批量管理

如果有多个相似的邮箱账户，可以：
1. 先配置好一个账户的规则
2. 复制规则配置
3. 应用到其他账户

## 📚 进阶使用

### 场景 1: 监听 GitHub 通知

**配置步骤:**
1. 添加 GitHub 通知邮箱
2. 创建过滤规则：
   - 发件人: `notifications@github.com`
   - 主题: `Pull Request, Issue, Mention`
3. 推送到 Telegram（个人使用）
4. 标记为已读（避免邮箱堆积）

### 场景 2: 客户邮件管理

**配置步骤:**
1. 添加客服邮箱
2. 创建多个规则：
   - VIP 客户（优先级 10）→ 企业微信 + 飞书
   - 普通客户（优先级 5）→ 企业微信
   - 营销邮件（优先级 1）→ 标记已读
3. 设置频率限制：每分钟 10 条

### 场景 3: 团队协作

**配置步骤:**
1. 添加团队共享邮箱
2. 创建推送渠道：
   - 技术团队 → 飞书技术群
   - 销售团队 → 企业微信销售群
   - 管理层 → 企业微信管理群
3. 按发件人或主题分类推送

## 🔐 安全建议

1. **使用应用专用密码**
   - 不要使用账户主密码
   - 定期更换应用密码

2. **保护环境变量**
   - 不要将 `.env` 文件提交到 Git
   - 使用强加密密钥

3. **定期检查日志**
   - 查看系统告警
   - 监控异常登录

4. **限制推送频率**
   - 避免被平台限流
   - 防止消息轰炸

## 📞 获取帮助

- **文档**: 查看 `README.md` 和 `FEATURES.md`
- **部署指南**: 查看 `DEPLOYMENT.md`
- **问题反馈**: 提交 GitHub Issue
- **功能建议**: 提交 Feature Request

## 🎉 开始使用

现在你已经了解了基本使用方法，开始体验 EmailHub 吧！

1. 添加你的第一个邮箱账户
2. 配置一个推送渠道
3. 创建一个过滤规则
4. 等待新邮件到来，体验实时推送！

祝你使用愉快！ 🚀
